<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/common.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/itemList.css') }}">
    <title>User Groups</title>
    <style>
        .btn-approve {
            background-color: #10ffc3;
            cursor: pointer;
            font-size: 13px;
            text-align: center;
        }

        .btn-reject {
            background-color: #ffc710;
            cursor: pointer;
            font-size: 13px;
            text-align: center;
        }

        table {
          border-collapse: collapse;
          width: 100%;
          background-color: white;
          border: 1px solid black;
        }
        
        th, td {
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #D6EEEE;
        }
    </style>
</head>
<body>
    <h1 style="color: white !important;">Selected Group: '{{ selectedGroupName }}'</h1>
    <a href="{{url_for('userHome')}}" style="color: yellow !important;">Home Page</a> </br>
    <a href="{{url_for('logoutUser')}}" style="color: yellow !important;">Sign Out</a> </br></br>
    <input type="text" style="display: none;" name="currentuseremail" id="currentuseremail" placeholder="" value="{{ currentUserEmail }}" minlength=5 maxlength=30 />
    
    <div>
        <input type="text" style="display: none;" name="currentuseremail" id="currentuseremail" placeholder="" value="{{ currentUserEmail }}" minlength=5 maxlength=30 />
        <h3 style="text-decoration: underline;color: whitesmoke !important;" >1) File upload on the Selected Group:</h3>
        <div id="fileuploaddiv" style="position: relative;">
            <div style="float: left;
            background-color: antiquewhite;
            display: flex;
            align-items: center;
            justify-content: center;
            align-content: center;
            height: 50px;
            flex-wrap: wrap;
            margin-bottom: 2%;">
                <form method="POST" action="/fileuploadmodule" enctype="multipart/form-data">                        
                    <input type="text" style="display: none;" name="currentGroupName" id="currentGroupName" placeholder="" value="{{ selectedGroupName }}" minlength=5 maxlength=30 />
                    <input type="file" name="file">
                    <button class="btn-fileupload" >Upload File</button>
                 </form>
            </div>
        </div>
    </div>

    </br></br></br></br>

    <div>
        <h3 style="text-decoration: underline;color: whitesmoke !important;" >2) Items uploaded on the Selected Group:</h3>
        <div id="uploadeditemslistdiv" style="height:380px; overflow-y: auto;">
            <div>
                <table id="uplodedItemsInThisGroup">
                    <tr>
                        <th>Item Name</th>
                        <th>Item Content</th>
                        <th style="display: none;">Item Owner</th>
                        <th style="display: none;">groupname</th>
                        <th>Action</th>
                    </tr>
                    {% for eachUser in itemList %}
                    <tr>
                        <td class="itemName">{{ eachUser[0] }}</td>
                        <td class="itemContent"><img style="height: 100px;width: 100px;" src="data:;base64,{{ eachUser[1] }}"/></td>
                        <td class="itemOwnerName" style="display: none;">{{ eachUser[2] }}</td>
                        <td class="itemGroupName" style="display: none;">{{ eachUser[3] }}</td>
                        <td><button style="margin-left: -15%;" class="btn-addFeedback addFeedback" onclick="addFeedBack(this);">Add Feedback</button><button style="margin-left: 15%;"class="btn-deleteItem" onclick="deleteItem(this);">Delete item</button></td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>
    <div style="display:none;" id="submitFeedbackGroupItemdiv">
        <form class="form-submitFeedbackGroupItem" action="submitFeedbackGroupItem" method="post" name="submitFeedbackGroupItem">
            <input class="form-styling" type="text" name="submitFeedback_itemGroupName" id="submitFeedback_itemGroupName" placeholder="" minlength=5 maxlength=30 />
            <input class="form-styling" type="text" name="submitFeedback_itemName" id="submitFeedback_itemName" placeholder="" minlength=5 maxlength=30 />					 
            <button name="submitFeedbackGroupItem" id="submitFeedbackGroupItembutton">submit</button>
       </form>
    </div>
    <div style="display:none;" id="deleteGroupItemdiv">
        <form class="form-deleteGroupItem" action="deleteGroupItem" method="post" name="deleteGroupItem">
            <input class="form-styling" type="text" name="deleteItem_itemGroupName" id="deleteItem_itemGroupName" placeholder="" minlength=5 maxlength=30 />
            <input class="form-styling" type="text" name="deleteItem_itemName" id="deleteItem_itemName" placeholder="" minlength=5 maxlength=30 />					 
            <button name="deleteGroupItem" id="deleteGroupItembutton">submit</button>
       </form>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src= "{{ url_for('static',filename='js/itemList.js')}}"></script>
</body>
</html>