<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/common.css') }}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Item Feedback</title>
    <style>
        .btn-approve {
            background-color: #10ffc3;
            cursor: pointer;
            font-size: 13px;
            text-align: center;
        }

        table {
          border-collapse: collapse;
          width: 100%;
          background-color: white;
          border: 1px solid black;
        }
        
        th, td {
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #D6EEEE;
        }
    </style>
</head>
<body>
    <div>
        <a href="{{url_for('userHome')}}" style="color: yellow !important;">Home Page</a> </br>
        <a id="gotoitemsList" style="color: yellow !important;">Go to Previous Page</a>
        <div style="display:none;" id="selectedgroupdiv">
            {% for eachUser in itemList %}
            <form class="form-creategroup" action="selectedgroup" method="post" name="selectedgroup">
                <input class="form-styling" type="text" name="selectedgroup_grpname" id="selectedgroup_grpname" placeholder="" value = "{{ eachUser[0] }}" />
                <button name="selectedgroup" id="selectedgroupbutton">submit</button>
           </form>
           {% endfor %}
        </div>
        </br>
        <a href="{{url_for('logoutUser')}}" style="color: yellow !important;">Sign Out</a> </br></br>
    </div>
    <div style="width:100%;height: 250px;background-color: darkcyan;">
        <div style="width:44%;margin-left: 2%;float: left;margin-top: 20px;">
            <table>
                {% for eachUser in itemList %}
                <tr>
                    <td><label for="grpNameTitle" style="font-weight:bold;">Group Name:</label><label for="grpNameVal" style="font-weight:400;">{{ eachUser[0] }}</label></td>
                    <td rowspan="2"><label for="itemContent" style="font-weight:bold;">Item Content:</label></br> <img style="height: 150px;width: 100%;" src="data:;base64,{{ eachUser[2] }}"/></br><a id="downloaditem" style="color: rgb(54, 107, 198) !important;">Download</a></td>                
                  </tr>
                  <tr>
                    <td><label for="itemNameTitle" style="font-weight:bold;">Item Name:</label><label for="itemNameVal" style="font-weight:400;">{{ eachUser[1] }}</label></td>
                </tr>
                {% endfor %}
            </table>
            <div style="display: none;">
                {% for eachUser in itemList %}
                <form action="downloadEachItem" method="post" name="downloadEachItem">
                    <input class="downloadgrpNameVal" type="text" name="downloadgrpNameVal" id="downloadgrpNameVal" value = "{{ eachUser[0] }}" placeholder=""/>
                    <input class="downloaditemNameVal" type="text" name="downloaditemNameVal" id="downloaditemNameVal" value = "{{ eachUser[1] }}" placeholder=""/>
                    <input type="submit" name="downloadEachItem" id="downloadEachItemSubmitButton" value="Submit">
                </form>
                {% endfor %}                
            </div>
        </div>
        <div style="width:44%;margin-left: 2%;float: left;margin-top: 20px;">
            {% for eachUser in itemList %}
            <form action="submitNewFeedbackEachItem" method="post" name="submitNewFeedbackEachItem">
                <p>
                    <label for="newFeedbackTitle">Add your feedback here:</label>
                    <input class="newFeedbackgrpNameVal" type="text" name="newFeedbackgrpNameVal" id="newFeedbackgrpNameVal" style="display:none;" value = "{{ eachUser[0] }}" placeholder=""/>
                    <input class="newFeedbackitemNameVal" type="text" name="newFeedbackitemNameVal" id="newFeedbackitemNameVal" style="display:none;" value = "{{ eachUser[1] }}" placeholder=""/>
                </p>
                <textarea id="newFeedbackVal" name="newFeedbackVal" rows="4" cols="50"></textarea>
                <br>
                <input type="submit" name="submitNewFeedbackEachItem" id="newFeedbackSubmitButton" value="Submit">
            </form>
            {% endfor %}
        </div>
    </div>
    <div class="container" style="margin-top: 1%;">
        <div class="panel-group" id="accordion">
            {% for eachUser in feedbackList %}
            <div class="panel panel-default">
                <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#{{eachUser[0]}}">{{eachUser[0]}}) Submitted by: {{ eachUser[1] }}</a>
                </h4>
                </div>
                <div id="{{eachUser[0]}}" class="panel-collapse collapse">
                <div class="panel-body"><label for="currentfeedback" style="word-wrap: break-word;">{{ eachUser[2] }}</label></div>
                </div>
            </div>
            {% endfor %}
        </div>       
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src= "{{ url_for('static',filename='js/itemFeedbacks.js')}}"></script>
</body>
</html>